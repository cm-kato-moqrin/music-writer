# 作曲・編曲支援（ベースライン）

ベースライン作成をサポートします。

## 引数

$ARGUMENTS - 作成したいタイプ

例：
- `/compose ファンクリフ`
- `/compose ウォーキングベース`
- `/compose ポップバラード`
- `/compose レビュー` （作成したラインのレビュー）

## 標準記述フォーマット

ベースラインは以下の16分グリッド形式で記述・共有します：

```
キー：Em
コード：|Em7    |A7     |
BPM：100
拍子：4/4

グリッド（16分音符基準）：
|  1拍目  |  2拍目  |  3拍目  |  4拍目  |
|1 e + a |2 e + a |3 e + a |4 e + a |
|E . . . |G . E F#|G . . . |E . . . |  ← 音名

弦：E弦中心

凡例：
- 音名 = その位置で弾く
- . = 休符または前の音を伸ばす
```

## モード

### 1. ガイドモード（新規作成）

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎸 ベースライン作成ガイド：{タイプ}
━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ ジャンル特性
{そのジャンルのベースラインの特徴}

■ 典型的なリズムパターン
|  1拍目  |  2拍目  |  3拍目  |  4拍目  |
|1 e + a |2 e + a |3 e + a |4 e + a |
|o . . . |. . o . |o . o . |. . o . |

（o = 音を弾く位置）

■ 音の選び方
- {コードトーンの使い方}
- {アプローチノートの使い方}

■ コード進行例
{よく使われる進行}

■ 作成ステップ
1. {ステップ1}
2. {ステップ2}
3. {ステップ3}

■ 避けるべきこと
- {注意点}

■ 参考曲
- {曲名}：{特徴}

━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 課題：上記を参考に{小節数}小節のベースラインを
作成して、グリッド形式で共有してください
━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 2. レビューモード

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 ベースラインレビュー
━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 提出されたライン
{ユーザーのラインをそのまま表示}

■ 分析
- コード対応：{コードトーンの使い方}
- リズム：{リズムの特徴}
- 動き：{音の動き方}

■ 良い点
- {良い点1}
- {良い点2}

■ 改善提案
- {提案1}
- {提案2}

改善例：
|  1拍目  |  2拍目  |  3拍目  |  4拍目  |
|1 e + a |2 e + a |3 e + a |4 e + a |
|{改善したライン}|

■ 代替案
{別のアプローチの提案}

━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

## 注意

- ユーザーの現在のフェーズを考慮してアドバイスする
- 理論的な説明と実践的なアドバイスを両方含める
- 良い点を必ず見つけて伝える
- 改善提案は具体的にグリッド形式で示す
- 必要に応じて `/theory` への誘導も行う
